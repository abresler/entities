% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/resolve.R
\name{entity_rules}
\alias{entity_rules}
\title{Define entity matching rules}
\usage{
entity_rules(..., combine = c("weighted_average", "min", "max", "vote"))
}
\arguments{
\item{...}{Named field specifications. Each field should be a list with:
\describe{
  \item{method}{String distance method: "jw", "lv", "cosine", "jaccard", "lcs", "exact"}
  \item{weight}{Numeric weight for this field (weights are normalized to sum to 1)}
  \item{threshold}{Optional minimum similarity threshold (0-1). Default 0.80.}
}}

\item{combine}{How to combine field scores into final score:
\describe{
  \item{"weighted_average"}{Weighted mean of field similarities (default)}
  \item{"min"}{Minimum similarity across all fields}
  \item{"max"}{Maximum similarity across all fields}
  \item{"vote"}{Proportion of fields meeting their thresholds}
}}
}
\value{
An object of class "entity_rules" (a list) containing:
  \describe{
    \item{fields}{List of field specifications}
    \item{combine}{Combination strategy}
  }
}
\description{
Creates a rules specification for entity matching. Rules are pure data
structures (not stateful objects) that define how fields should be compared
and combined. This enables reproducible, shareable matching configurations.
}
\examples{
# Define rules for matching companies
company_rules <- entity_rules(
  name = list(method = "jw", weight = 0.6, threshold = 0.85),
  city = list(method = "exact", weight = 0.2),
  state = list(method = "exact", weight = 0.2),
  combine = "weighted_average"
)

# Define rules for matching people
person_rules <- entity_rules(
  last_name = list(method = "jw", weight = 0.5, threshold = 0.90),
  first_name = list(method = "jw", weight = 0.3, threshold = 0.85),
  city = list(method = "exact", weight = 0.2),
  combine = "weighted_average"
)

# Save rules for reuse
# saveRDS(company_rules, "my_company_rules.rds")
}
